---
source: compiler/e2e/test/snapshot/mod.rs
expression: clean_run
---
stderr:
  [error]: the variable doesn't live long enough
    ╭─[compiler/e2e/test/snapshot/borrow_checker/phi_inference_variable_does_not_live_long_enough/main.pnx:4:15]
  3 │     
  4 │ ╭─▶     let ref = scope 'result:
  5 │ │           let inner = 2
  6 │ │   
  7 │ │           if true:
  8 │ │               express 'result &inner
  9 │ │           else if true:
 10 │ │               let anotherInner = 3
    · │                   ──────┬─────
    · │                         ╰── the variable declared here doesn't live long enough
 11 │ │               express 'result &anotherInner
    · │                               ──────┬──────
    · │                                     ╰── the borrow starts here
 12 │ │            
 13 │ ├─▶         express &outer
    · ╰──── the borrow is used here
    ╰────

  [error]: the variable doesn't live long enough
    ╭─[compiler/e2e/test/snapshot/borrow_checker/phi_inference_variable_does_not_live_long_enough/main.pnx:4:15]
  3 │     
  4 │ ╭─▶     let ref = scope 'result:
  5 │ │           let inner = 2
    · │               ──┬──
    · │                 ╰── the variable declared here doesn't live long enough
  6 │ │   
  7 │ │           if true:
  8 │ │               express 'result &inner
    · │                               ───┬──
    · │                                  ╰── the borrow starts here
  9 │ │           else if true:
 10 │ │               let anotherInner = 3
 11 │ │               express 'result &anotherInner
 12 │ │            
 13 │ ├─▶         express &outer
    · ╰──── the borrow is used here
    ╰────

  [error]: Compilation aborted due to 2 error(s)



stdout:
